<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iin Urheilijat</title>
    <style>
        html, body {
            height: 100%; /* Ensure the body takes full height */
            margin: 0; /* Remove default margin */
            padding: 0; /* Remove default padding */
            display: flex;
            justify-content: center;
            align-items: center;
            background: transparent; /* Set background color to transparent */
        }
        .widget-container {
            background-color: rgba(255, 255, 255, 0.8); /* Semi-transparent white background */
            padding: 20px; /* Padding inside the box */
            border-radius: 8px; /* Rounded corners */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
            max-width: 90%; /* Limit the width to 90% of the viewport */
            width: 90%; /* Set width to 90% of the viewport */
        }
        .scoreboard {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.2em;
        }
        .team {
            flex: 1;
            text-align: center;
        }
        .inning {
            flex: 2;
            text-align: center;
        }
    </style>
</head>
<body>
    <!-- Div element for the widget -->
    <div id="widget" class="widget-container">
        <div class="scoreboard">
            <div class="team" id="home-team">Home</div>
            <div class="inning" id="inning-info">Inning</div>
            <div class="team" id="away-team">Away</div>
        </div>
        <div id="score-details"></div>
    </div>
    
    <!-- Script to fetch and display data -->
    <script>
        async function fetchResults() {
            try {
                const response = await fetch('https://www.pesistulokset.fi/api/v1/public/match-live-result?id=86013&apikey=3s0Uuz7ihVQYnOOQ4ROve8SJaCsX91nj');
                const data = await response.json();
                displayResults(data.result);
            } catch (error) {
                console.error('Error fetching results:', error);
            }
        }

        function displayResults(result) {
            const homeTeam = document.getElementById('home-team');
            const awayTeam = document.getElementById('away-team');
            const inningInfo = document.getElementById('inning-info');
            const scoreDetails = document.getElementById('score-details');

            homeTeam.textContent = `Home: ${result.periods.home}`;
            awayTeam.textContent = `Away: ${result.periods.away}`;
            inningInfo.textContent = `Current Inning: ${result.currentInning}, Outs: ${result.outCount}`;

            scoreDetails.innerHTML = '';

            result.runs.forEach((inning, index) => {
                const inningDiv = document.createElement('div');
                inningDiv.innerHTML = `
                    <div>Inning ${index + 1}</div>
                    <div>Home: ${inning.home.join(', ')}</div>
                    <div>Away: ${inning.away.join(', ')}</div>
                `;
                scoreDetails.appendChild(inningDiv);
            });
        }

        document.addEventListener('DOMContentLoaded', function() {
            fetchResults();
            setInterval(fetchResults, 45000); // Refresh every 45 seconds
        });
    </script>
</body>
</html>
